<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>KoreanLearnin</title>
    <script type="text/javascript"> (function(c,l,a,r,i,t,y){ c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)}; t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i; y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y); })(window, document, "clarity", "script", "tt08azyz1t"); </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        /* --- Fix A: stop top-margin collapse on the very first child --- */
        html, body { 
            margin: 0; 
            padding: 0;
            height: auto;
            min-height: 100%;
            overflow-x: hidden;
            overflow-y: auto;
        }
        body {
          padding-top: 1px;
        }
        body > *:first-child,
        main > *:first-child,
        .container > *:first-child {
          margin-top: 0 !important;
        }

        /* --- Fix B: disable scroll-snap --- */
        html, body, main, .page, .container {
          scroll-snap-type: none !important;
        }

        /* --- Fix C: keep layout stable while images load --- */
        img { height: auto; max-width: 100%; }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Press Start 2P', cursive;
            background: url('https://cdn.shopify.com/s/files/1/0674/6747/7282/files/sky.png?v=1750990355') repeat;
            margin: 0;
            padding: 0;
            color: white;
        }
        
        .container {
            position: relative;
            width: 100%;
            min-height: 100dvh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: calc(2rem + env(safe-area-inset-top)) 2rem 2rem 2rem;
            background: url('https://cdn.shopify.com/s/files/1/0674/6747/7282/files/sky.png?v=1750990355') repeat;
            backdrop-filter: blur(10px);
            z-index: 1;
            animation: fadeInUp 0.8s ease-out;
            transition: padding 0.5s ease-out, opacity 0.5s ease-out, transform 0.5s ease-out;
            overflow: visible;
            -webkit-overflow-scrolling: touch;
        }
        
        .step {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        
        .step.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        
        .step.fade-out {
            opacity: 0;
            transform: translateY(-20px);
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h1 {
            font-family: 'Press Start 2P', cursive;
            font-size: clamp(1.5rem, 6vw, 3rem);
            margin-bottom: 2rem;
            color: white;
            text-shadow: -2px -2px 0 #31afed, 2px -2px 0 #31afed, -2px 2px 0 #31afed, 2px 2px 0 #31afed;
            line-height: 1.4;
        }
        
        .description {
            font-size: clamp(0.8rem, 3vw, 1.1rem);
            margin: 0 auto 2rem auto;
            opacity: 0.9;
            max-width: 700px;
            text-align: center;
            line-height: 1.6;
        }
        
        .buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }
        
        button {
            padding: clamp(12px, 3vw, 18px) clamp(24px, 5vw, 40px);
            font-size: clamp(0.9rem, 3vw, 1.2rem);
            border: none;
            border-radius: 50px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            min-width: 140px;
            margin: 0.5rem;
            font-family: 'Press Start 2P', cursive;
        }
        
        button.primary { 
            background: linear-gradient(45deg, #e74c3c, #c0392b); 
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3); 
        }
        
        button.secondary { 
            background: linear-gradient(45deg, #9b59b6, #8e44ad); 
            box-shadow: 0 4px 15px rgba(155, 89, 182, 0.3); 
        }
        
        button.class-button { 
            background: linear-gradient(45deg, #3498db, #2980b9); 
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3); 
        }
        
        button:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3); 
        }
        
        button:active { 
            transform: translateY(0); 
        }
        
        .hero-image {
            margin-top: 2rem;
            text-align: center;
            position: relative;
        }
        
        .hero-image img {
            max-width: 100%;
            height: auto;
            width: clamp(300px, 60vw, 550px);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transform: translateY(100vh);
            transition: transform 0.8s ease-out;
        }
        
        .hero-image.slide-up img {
            transform: translateY(0);
        }
        
        .quiz-container {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 2rem;
            margin: 1rem auto;
            max-width: 800px;
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .quiz-question-container {
            opacity: 0;
            transition: opacity 0.5s ease;
            display: none;
        }
        
        .quiz-question-container.active {
            opacity: 1;
            display: block;
        }
        
        .quiz-question-container.fading {
            display: block;
        }
        
        .question-counter {
            font-size: clamp(1.05rem, 3vw, 1.3rem);
            color: #ffd700;
            margin-bottom: 1rem;
            text-align: center;
            text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000;
            font-weight: bold;
        }
        
        .quiz-question {
            font-size: clamp(1rem, 3vw, 1.3rem);
            margin-bottom: 1rem;
            line-height: 1.5;
        }
        
        .quiz-subtext {
            font-size: clamp(0.65rem, 2vw, 0.85rem);
            margin-bottom: 2rem;
            opacity: 0.8;
            line-height: 1.6;
        }
        
        .quiz-subtext a {
            color: #31afed;
            text-decoration: underline;
            cursor: pointer;
        }
        
        .quiz-subtext a:hover {
            color: #31afed;
        }
        
        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .quiz-option {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            padding: 1.2rem;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: clamp(0.7rem, 2vw, 0.9rem);
            line-height: 1.6;
        }
        
        .quiz-option:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: #31afed;
            transform: translateX(5px);
        }
        
        .quiz-option.selected {
            background: rgba(49, 175, 237, 0.2);
            border-color: #31afed;
        }
        
        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .popup-overlay.active {
            display: flex;
            opacity: 1;
        }
        
        .popup-content {
            background: rgba(255, 255, 255, 0.1);
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 2rem;
            max-width: 600px;
            width: 100%;
            position: relative;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
        }
        
        .popup-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(231, 76, 60, 0.8);
            border: none;
            color: white;
            font-size: 1.5rem;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-family: Arial, sans-serif;
            padding: 0;
            min-width: unset;
            margin: 0;
        }
        
        .popup-close:hover {
            background: rgba(192, 57, 43, 1);
            transform: rotate(90deg);
        }
        
        .popup-content h2 {
            font-size: clamp(1rem, 3vw, 1.3rem);
            margin-bottom: 1.5rem;
            color: #FFD700;
            text-shadow: -2px -2px 0 #8B4513, 2px -2px 0 #8B4513, -2px 2px 0 #8B4513, 2px 2px 0 #8B4513;
        }
        
        .popup-content p {
            font-size: clamp(0.7rem, 2vw, 0.9rem);
            line-height: 1.8;
            margin-bottom: 0.8rem;
            color: #FFFFFF;
        }
        
        .popup-content p strong {
            color: #90EE90;
            text-shadow: -1px -1px 0 #2F4F2F, 1px -1px 0 #2F4F2F, -1px 1px 0 #2F4F2F, 1px 1px 0 #2F4F2F;
        }
        
        .popup-time {
            color: #31afed;
            text-shadow: -1px -1px 0 #000000, 1px -1px 0 #000000, -1px 1px 0 #000000, 1px 1px 0 #000000;
        }

        .class-container {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 2rem;
            margin: 1rem auto;
            max-width: 800px;
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .price {
            font-size: clamp(1rem, 2.5vw, 1.4rem);
            font-weight: bold;
            color: #FF1493;
            text-align: center;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            border: none;
            text-shadow: -2px -2px 0 #000000, 2px -2px 0 #000000, -2px 2px 0 #000000, 2px 2px 0 #000000;
            margin-top: auto;
        }

        .price-breakdown-link {
            font-size: clamp(0.6rem, 1.8vw, 0.75rem);
            color: #31afed;
            text-decoration: underline;
            cursor: pointer;
            margin-top: 0.5rem;
            display: block;
        }

        .price-breakdown-link:hover {
            color: #5bc0de;
        }

        .pricing-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin: 2rem auto;
            max-width: 1400px;
            padding: 0 1rem;
        }
        
        .pricing-card {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 1.5rem;
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .pricing-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .pricing-card h3 {
            font-size: clamp(0.9rem, 2.2vw, 1.15rem);
            color: #ffd700;
            margin-bottom: 1rem;
            text-align: center;
            text-shadow: -2px -2px 0 #000000, 2px -2px 0 #000000, -2px 2px 0 #000000, 2px 2px 0 #000000;
        }
        
        .pricing-card ul {
            list-style: none;
            padding: 0;
            margin: 0 0 1.5rem 0;
            flex-grow: 1;
        }
        
        .pricing-card ul li {
            font-size: clamp(0.55rem, 1.5vw, 0.75rem);
            line-height: 1.6;
            margin-bottom: 0.8rem;
            padding-left: 1.2rem;
            position: relative;
            opacity: 0.9;
        }
        
        .pricing-card ul li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            color: #31afed;
            font-weight: bold;
        }

        .pricing-card .price {
            line-height: 1.85;
        }
        
        @media (max-width: 768px) {
            .hero-image img {
                width: clamp(320px, 95vw, 600px);
            }
            
            .quiz-container {
                max-width: 90vw;
                padding: 1.5rem;
            }
            
            .quiz-question-container img {
                width: clamp(230px, 57.5vw, 460px) !important;
            }
            
            .popup-content {
                padding: 1.5rem;
            }

            .pricing-container {
                grid-template-columns: 1fr;
                gap: 1rem;
                padding: 0 0.5rem;
            }
            
            .pricing-card {
                padding: 1.2rem;
            }
            
            .pricing-card ul li {
                font-size: 0.7rem;
            }
            
            #tutoringPricingPage .pricing-container {
                grid-template-columns: 1fr !important;
            }
        }
        
        @media (min-width: 769px) and (max-width: 1200px) {
            .pricing-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media screen and (max-width: 435px) {
            button {
                transform: scale(0.9);
                transform-origin: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="welcomePage" class="step active">
            <h1>üåü Welcome to<br>KoreanLearnin!</h1>
            <p class="description">Your journey to mastering Korean starts here. Join over 180 active students!</p>
            <p style="font-size: clamp(0.75rem, 2.5vw, 1rem); color: #FFD700; margin: -1rem auto 2rem auto; max-width: 700px; text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000; font-weight: bold; line-height: 1.6;">
                üéâ For a limited time, get 2 weeks FREE trial when registering for class!
            </p>
            <div class="buttons">
                <button onclick="showStep('quizPage')" class="primary">Which Class is Best for YOU?</button>
                <a href="https://www.canva.com/design/DAGpglH5L3o/IiT-NOL9GVoZt8ZXJn5RNA/view?utm_content=DAGpglH5L3o&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=hbbcafad096#1" target="_blank" style="text-decoration: none;">
                    <button class="testimonials-button" style="background: linear-gradient(45deg, #2ecc71, #27ae60); box-shadow: 0 4px 15px rgba(46, 204, 113, 0.3);">üìù View Student Testimonials</button>
                </a>
            </div>
            <div class="hero-image">
                <img src="https://cdn.shopify.com/s/files/1/0674/6747/7282/files/KOREANLEARNIN.png?v=1754436909" alt="Korean Learning" />
            </div>
        </div>

        <div id="quizPage" class="step">
            <h1>üìù Find Your Perfect Plan</h1>
            <div class="quiz-container">
                <div id="question1" class="quiz-question-container">
                    <div class="question-counter">Question 1 out of 9</div>
                    <img src="https://cdn.shopify.com/s/files/1/0674/6747/7282/files/1_3bcd4411-621a-427e-80b1-44b87e6c33ec.png?v=1760928203" alt="Question 1" style="width: clamp(200px, 50vw, 400px); height: auto; margin: -2rem auto -0.5rem auto; display: block; border-radius: 10px;">
                    <div class="quiz-question">
                        In an ideal world, if all classes were free, how many Korean classes would you take per week?
                    </div>
                    <div class="quiz-subtext">
                        We offer up to 5 classes per week. These classes are entirely optional and meant for Extra Practice.<br>
                        <a onclick="showSchedulePopup()">CLICK HERE TO VIEW OUR CLASS SCHEDULE</a>
                    </div>
                    <div class="quiz-options">
                        <div class="quiz-option" data-points="1"><strong>A.</strong> 1‚Äì2 classes - I prefer a relaxed pace.</div>
                        <div class="quiz-option" data-points="2"><strong>B.</strong> 3‚Äì5 classes - I like to stay consistent without without overdoing it.</div>
                        <div class="quiz-option" data-points="3"><strong>C.</strong> 6-7 classes - I want to immerse myself and make progress ASAP.</div>
                        <div class="quiz-option" data-points="4"><strong>D.</strong> I need ALL the classes and personal tutoring too!</div>
                    </div>
                </div>

                <div id="question2" class="quiz-question-container">
                    <div class="question-counter">Question 2 out of 9</div>
                    <img src="https://cdn.shopify.com/s/files/1/0674/6747/7282/files/2_d741a287-81bd-4e02-a4ec-3c5c32fe316c.png?v=1760928204" alt="Question 2" style="width: clamp(200px, 50vw, 400px); height: auto; margin: -2rem auto -0.5rem auto; display: block; border-radius: 10px;">
                    <div class="quiz-question">
                        Outside of class, do you typically use the textbook?
                    </div>
                    <div class="quiz-subtext">
                        Our online student textbook contains over 100 video lessons separated by Korean level, flashcards and PDFs for each lesson, games, and AI Practice Bots. The textbook allows you to UNLOCK advanced classes.
                    </div>
                    <div class="quiz-options">
                        <div class="quiz-option" data-points="2.25"><strong>A.</strong> Yes</div>
                        <div class="quiz-option" data-points="1"><strong>B.</strong> No</div>
                    </div>
                </div>

                <div id="question3" class="quiz-question-container">
                    <div class="question-counter">Question 3 out of 9</div>
                    <img src="https://cdn.shopify.com/s/files/1/0674/6747/7282/files/3_255d0b85-f92a-4ae7-ba49-309e8d0be120.png?v=1760928205" alt="Question 3" style="width: clamp(200px, 50vw, 400px); height: auto; margin: -2rem auto -0.5rem auto; display: block; border-radius: 10px;">
                    <div class="quiz-question">
                        How do you prefer to study?
                    </div>
                    <div class="quiz-options">
                        <div class="quiz-option" data-points="1"><strong>A.</strong>I'm chill - I learn when I can and prefer to take class whenever I want, even if there's some long breaks in between.</div>
                        <div class="quiz-option" data-points="2"><strong>B.</strong>I'm ready to commit to a consistent self-study schedule, but need some guidance and a study buddy. I prefer getting help when I need it, rather than attending class every day.</div>
                        <div class="quiz-option" data-points="3"><strong>C.</strong>I need structured, small group classes with real-time feedback. I can't study on my own and prefer a traditional classroom.</div>
                        <div class="quiz-option" data-points="4"><strong>D.</strong>I'm obsessed - I want 1:1 personal coaching.</div>
                    </div>
                </div>

                <div id="question4" class="quiz-question-container">
                    <div class="question-counter">Question 4 out of 9</div>
                    <img src="https://cdn.shopify.com/s/files/1/0674/6747/7282/files/4_b53f1fc4-cd1d-4673-970c-0d2c7f814c4a.png?v=1760928206" alt="Question 4" style="width: clamp(200px, 50vw, 400px); height: auto; margin: -2rem auto -0.5rem auto; display: block; border-radius: 10px;">
                    
                    <!-- Video Container -->
                    <div style="max-width: clamp(280px, 70vw, 500px); margin: 1rem auto 1.5rem auto;">
                        <div style="position: relative; padding-bottom: 56.25%; height: 0; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);">
                            <iframe src="https://www.loom.com/embed/dbb5d0a5ed274a549637deff73d6a118" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
                        </div>
                    </div>
                    
                    <div class="quiz-question">
                        Do you want 6 weeks of extra Accent Erasing tutoring sessions to start you off on the right foot and show you around our Academy? *(Addon Purchase)*
                    </div>
                    <div class="quiz-subtext">
                        Optional, but many students prefer 6 weeks of orientation tutoring sessions to show them the fundamentals, how to study, and how to use our Academy to the fullest.
                    </div>
                    <div style="text-align: center; margin: 1.5rem 0;">
                        <a onclick="showTutoringPricing()" style="color: #31afed; text-decoration: underline; cursor: pointer; font-size: clamp(0.75rem, 2vw, 0.95rem); font-weight: bold;">Click here for pricing info!</a>
                    </div>
                    <div class="quiz-options">
                        <div class="quiz-option" data-points="2.25"><strong>A.</strong>Yes, I'd love extra tutoring, so I don't feel lost.</div>
                        <div class="quiz-option" data-points="1"><strong>B.</strong> No, I want to jump right into the drop-in classes and video lessons. I'd rather learn on my own.</div>
                    </div>
                </div>

                <div id="question5" class="quiz-question-container">
                    <div class="question-counter">Question 5 out of 9</div>
                    <img src="https://cdn.shopify.com/s/files/1/0674/6747/7282/files/5_aafed38c-9333-4585-ad5e-cd11d3a81fe7.png?v=1760928207" alt="Question 5" style="width: clamp(200px, 50vw, 400px); height: auto; margin: -2rem auto -0.5rem auto; display: block; border-radius: 10px;">
                    <div class="quiz-question">
                        Do you feel like you'd benefit from extra accountability (someone to keep you consistent and check in on your progress)?
                    </div>
                    <div class="quiz-subtext">
                        Optional, but we have Private Accountability Concierges to personally check-in on your studies. PLUS, our Study Pods assign you to a weekly study buddy group. Ever been ghosted by a study buddy? Our Study Pods reward you for studying together, so you'll never be ghosted again.
                    </div>
                    <div class="quiz-options">
                        <div class="quiz-option" data-points="1"><strong>A.</strong> I'm pretty self-disciplined. I want to learn at my own pace; I don't need check-ins.</div>
                        <div class="quiz-option" data-points="2"><strong>B.</strong> Yes, the private check-ins and Study Pod sounds like what I need.</div>
                        <div class="quiz-option" data-points="3"><strong>C.</strong> Hmmm... I'd like the private check-ins, the Study Pod, AND structured classes the same day every week. I don't want to learn on my own.</div>
                        <div class="quiz-option" data-points="4"><strong>D.</strong> I mainly want 1:1 guidance to make sure I never fall behind.</div>
                    </div>
                </div>

                <div id="question6" class="quiz-question-container">
                    <div class="question-counter">Question 6 out of 9</div>
                    <img src="https://cdn.shopify.com/s/files/1/0674/6747/7282/files/6_89b3909d-d87a-4737-b35e-64fb5a06ad7e.png?v=1760928207" alt="Question 6" style="width: clamp(200px, 50vw, 400px); height: auto; margin: -2rem auto -0.5rem auto; display: block; border-radius: 10px;">
                    <div class="quiz-question">
                        What kind of class structure fits your learning style best?
                    </div>
                    <div class="quiz-options">
                        <div class="quiz-option" data-points="1"><strong>A.</strong> Drop-in style - I like being able to choose when to join, no attendance mandatory.</div>
                        <div class="quiz-option" data-points="2"><strong>B.</strong> Drop-in style, but with a bit more help - I like being able to choose when to join, but I need just a bit more help and don't want to be left on my own</div>
                        <div class="quiz-option" data-points="3"><strong>C.</strong> Structured weekend classes that build on each other, led by Mr. Calvin. I like traditional guided small group classes.</div>
                        <div class="quiz-option" data-points="4"><strong>D.</strong> Personalized 1:1 coaching - I want everything tailored to my level and goals.</div>
                    </div>
                </div>

                <div id="question7" class="quiz-question-container">
                    <div class="question-counter">Question 7 out of 9</div>
                    <img src="https://cdn.shopify.com/s/files/1/0674/6747/7282/files/7_cb9a78b2-c966-4645-a07f-37d8f7a63442.png?v=1760928207" alt="Question 7" style="width: clamp(200px, 50vw, 400px); height: auto; margin: -2rem auto -0.5rem auto; display: block; border-radius: 10px;">
                    <div class="quiz-question">
                        How long do you see yourself committing to learning Korean?
                    </div>
                    <div class="quiz-options">
                        <div class="quiz-option" data-points="1"><strong>A.</strong> A few months just to test it out. I'm curious how it'll go.</div>
                        <div class="quiz-option" data-points="2"><strong>B.</strong> 5‚Äì8+ months - I'm dedicated to becoming conversational.</div>
                        <div class="quiz-option" data-points="3"><strong>C.</strong> 9-12+ months - I want to be conversational ASAP and I know I can commit.</div>
                        <div class="quiz-option" data-points="4"><strong>D.</strong> Several years - I want to master Korean fully and get personal mentorship.</div>
                    </div>
                </div>

                <div id="question8" class="quiz-question-container">
                    <div class="question-counter">Question 8 out of 9</div>
                    <img src="https://cdn.shopify.com/s/files/1/0674/6747/7282/files/8_842bae4f-0bb2-4b09-b974-ac27df058966.png?v=1760928208" alt="Question 8" style="width: clamp(200px, 50vw, 400px); height: auto; margin: -2rem auto -0.5rem auto; display: block; border-radius: 10px;">
                    <div class="quiz-question">
                        Do you prefer those fun, self-study learning apps OR guided, structured lessons in a classroom setting?
                    </div>
                    <div class="quiz-options">
                        <div class="quiz-option" data-points="1"><strong>A.</strong> Self-study apps; I like full flexibility.</div>
                        <div class="quiz-option" data-points="2"><strong>B.</strong> A mix of self-study apps and group practice.</div>
                        <div class="quiz-option" data-points="3"><strong>C.</strong> Highly structured lessons with a clear curriculum.</div>
                        <div class="quiz-option" data-points="4"><strong>D.</strong> Fully personalized guidance and private tutoring.</div>
                    </div>
                </div>

                <div id="question9" class="quiz-question-container">
                    <div class="question-counter">Question 9 out of 9</div>
                    <img src="https://cdn.shopify.com/s/files/1/0674/6747/7282/files/9_0f32e709-67d1-4986-ba9d-f492a0546be7.png?v=1760928207" alt="Question 9" style="width: clamp(200px, 50vw, 400px); height: auto; margin: -2rem auto -0.5rem auto; display: block; border-radius: 10px;">
                    <div class="quiz-question">
                        When you picture yourself speaking Korean confidently, what kind of support do you imagine helped you get there?
                    </div>
                    <div class="quiz-options">
                        <div class="quiz-option" data-points="1"><strong>A.</strong> Just consistent practice on my own, with videos and flashcards.</div>
                        <div class="quiz-option" data-points="2"><strong>B.</strong> Supportive tutors and accountability partners.</div>
                        <div class="quiz-option" data-points="3"><strong>C.</strong> Regular live, personalized feedback from a dedicated teacher.</div>
                        <div class="quiz-option" data-points="4"><strong>D.</strong> 1:1 mentorship, detailed corrections, and a tailored action plan.</div>
                    </div>
                </div>

                <div class="buttons">
                    <button id="backButton" onclick="previousQuestion()" class="secondary" style="opacity: 0.5; cursor: not-allowed;">Back</button>
                    <button onclick="nextQuestion()" class="primary">Next Question</button>
                </div>
            </div>
        </div>

        <!-- Six Week Tutoring Pricing Page -->
        <div id="tutoringPricingPage" class="step">
            <h1>üìö Six Week Tutoring:<br>Accent Eraser Program</h1>
            
            <div class="pricing-container" style="grid-template-columns: repeat(2, 1fr); max-width: 1000px;">
                <div class="pricing-card">
                    <h3>Standalone Package</h3>
                    <ul style="margin-bottom: 1.5rem;">
                        <li>Purchase the 6 Week Tutoring on its own.</li>
                        <li>No access to other classes, textbook, or community.</li>
                        <li>For students who have limited time or want to try out a class.</li>
                    </ul>
                    <div class="price" style="font-size: clamp(0.9rem, 2.2vw, 1.2rem); margin-bottom: 1rem;">
                        PRICE: $150<br>
                        <span style="font-size: clamp(0.65rem, 1.8vw, 0.85rem); font-weight: normal;">one-time purchase</span>
                    </div>
                    <button onclick="showPurchasePopup()" class="primary" style="width: 100%; margin: 0;">Purchase Now</button>
                </div>
                
                <div class="pricing-card">
                    <h3>Add-On Package</h3>
                    <p style="color: #00FF00; text-align: center; font-size: clamp(0.7rem, 2vw, 0.9rem); margin-bottom: 1rem; text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000; font-weight: bold;">70% DISCOUNT!</p>
                    <ul style="margin-bottom: 1.5rem;">
                        <li>Get 6 Week Tutoring at a 70% DISCOUNT when you purchase any of our monthly programs.</li>
                        <li>Get access to all other classes, textbook, and community.</li>
                        <li>For dedicated students who want to commit to studying.</li>
                    </ul>
                    <div class="price" style="font-size: clamp(0.9rem, 2.2vw, 1.2rem); margin-bottom: 1rem;">
                        PRICE: $45<br>
                        <span style="font-size: clamp(0.65rem, 1.8vw, 0.85rem); font-weight: normal;">add-on at checkout</span>
                    </div>
                    <button onclick="returnToQuiz()" class="class-button" style="width: 100%; margin: 0; font-size: clamp(0.7rem, 2vw, 0.9rem); padding: clamp(12px, 3vw, 16px) clamp(16px, 4vw, 24px);">Continue with the Quiz to Pick a Monthly Plan</button>
                </div>
            </div>
            
            <div class="buttons">
                <button onclick="returnToQuiz()" class="secondary">Back to Quiz</button>
            </div>
        </div>

        <!-- Flex Plan Result Page -->
        <div id="flexResultPage" class="step">
            <h1>üéâ Your Perfect Plan!</h1>
            <div class="class-container">
                <h2 style="font-size: clamp(1.5rem, 4vw, 2rem); color: #ffd700; margin-bottom: 0.5rem; text-shadow: -4px -4px 0 #000, 4px -4px 0 #000, -4px 4px 0 #000, 4px 4px 0 #000, 0 -4px 0 #000, 0 4px 0 #000, -4px 0 0 #000, 4px 0 0 #000;">Flex Plan</h2>
                <p style="font-size: clamp(0.8rem, 2vw, 1rem); color: #ff6b6b; margin-bottom: 1rem; text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000; font-weight: bold;">Goal: Learn Korean at your own pace</p>
                <div style="background: rgba(255, 255, 255, 0.05); border-radius: 10px; padding: 1.5rem; margin: 1.5rem 0; text-align: left;">
                    <ul style="list-style: none; padding: 0; margin: 0 0 1.5rem 0;">
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #FFFFFF;">
                            <span style="position: absolute; left: 0; color: #31afed; font-weight: bold;">‚Ä¢</span>
                            Up to 5 optional, drop-in Support Classes per week (Each class is 1 hour long)
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #FFFFFF;">
                            <span style="position: absolute; left: 0; color: #31afed; font-weight: bold;">‚Ä¢</span>
                            Classes are unlocked by leveling up in your textbook
                        </li>
                    </ul>
                </div>
                <div class="price" style="margin: 2rem 0;">
                    PRICE: $75/MONTH
                    <span class="price-breakdown-link" onclick="showPriceBreakdown('flex')">*Click to see the price breakdown</span>
                </div>
                
                <a href="https://koreanlearnin.com/products/1-year-conversational-masterplan-2-week-free-trial?_pos=1&_psq=flex&_ss=e&_v=1.0&selling_plan=9562882338&variant=50421776777506" target="_blank" style="text-decoration: none;">
                    <button class="primary" style="width: 100%; margin: 1rem 0;">CHECKOUT</button>
                </a>
                
                <div style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid rgba(255, 255, 255, 0.2);">
                    <p style="font-size: clamp(0.75rem, 2vw, 0.95rem); line-height: 1.8; margin-bottom: 1rem;">
                        Looking for a more serious program? Click <a onclick="showStep('allPlansPage')" style="color: #31afed; text-decoration: underline; cursor: pointer;">HERE</a> to view our other plans.
                    </p>
                    <p style="font-size: clamp(0.75rem, 2vw, 0.95rem); line-height: 1.8; opacity: 0.9;">
                        Too expensive? We offer textbook rentals for $27/month. Please contact us for more information.
                    </p>
                </div>
            </div>
            <div class="buttons">
                <button onclick="showStep('welcomePage')" class="secondary">Start Over</button>
            </div>
        </div>

        <!-- Performance Plan Result Page -->
        <div id="performanceResultPage" class="step">
            <h1>üéâ Your Perfect Plan!</h1>
            <div class="class-container">
                <h2 style="font-size: clamp(1.5rem, 4vw, 2rem); color: #ffd700; margin-bottom: 0.5rem; text-shadow: -4px -4px 0 #000, 4px -4px 0 #000, -4px 4px 0 #000, 4px 4px 0 #000, 0 -4px 0 #000, 0 4px 0 #000, -4px 0 0 #000, 4px 0 0 #000;">Performance Plan</h2>
                <p style="font-size: clamp(0.8rem, 2vw, 1rem); color: #3498db; margin-bottom: 1rem; text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000; font-weight: bold;">Goal: Learn Korean in 12 ~ 18 months</p>
                <div style="background: rgba(255, 255, 255, 0.05); border-radius: 10px; padding: 1.5rem; margin: 1.5rem 0; text-align: left;">
                    <ul style="list-style: none; padding: 0; margin: 0 0 1.5rem 0;">
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #FFFFFF;">
                            <span style="position: absolute; left: 0; color: #31afed; font-weight: bold;">‚Ä¢</span>
                            Up to 5 optional, drop-in Support Classes per week (each class is 1 hour long)
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #FFFFFF;">
                            <span style="position: absolute; left: 0; color: #31afed; font-weight: bold;">‚Ä¢</span>
                            FREE online textbook included with purchase (100+ video lessons, flashcards, and PDFs)
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #90EE90;">
                            <span style="position: absolute; left: 0; color: #00FF00; font-weight: bold;">‚Ä¢</span>
                            On-demand recordings of all Support Classes (for if you miss class)
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #90EE90;">
                            <span style="position: absolute; left: 0; color: #00FF00; font-weight: bold;">‚Ä¢</span>
                            Pre-made notes (PDFs) for every Support Class
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #90EE90;">
                            <span style="position: absolute; left: 0; color: #00FF00; font-weight: bold;">‚Ä¢</span>
                            Private Accountability Concierge to keep you motivated
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #90EE90;">
                            <span style="position: absolute; left: 0; color: #00FF00; font-weight: bold;">‚Ä¢</span>
                            Access to our Study Pods (Group of 2-4 Study Buddies)
                        </li>
                    </ul>
                </div>
                <div class="price" style="margin: 2rem 0;">
                    PRICE: $89/MONTH
                    <span class="price-breakdown-link" onclick="showPriceBreakdown('performance')">*Click to see the price breakdown</span>
                </div>
                
                <a href="https://koreanlearnin.com/products/performance-plan-1-year-conversational-masterplan-2-week-free-trial?_pos=1&_psq=perform&_ss=e&_v=1.0&selling_plan=9562882338&variant=50444245598498" target="_blank" style="text-decoration: none;">
                    <button class="primary" style="width: 100%; margin: 1rem 0;">CHECKOUT</button>
                </a>
                
                <div style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid rgba(255, 255, 255, 0.2);">
                    <p style="font-size: clamp(0.75rem, 2vw, 0.95rem); line-height: 1.8; margin-bottom: 1rem;">
                        Looking for a more serious program? Click <a onclick="showStep('allPlansPage')" style="color: #31afed; text-decoration: underline; cursor: pointer;">HERE</a> to view our other plans.
                    </p>
                    <p style="font-size: clamp(0.75rem, 2vw, 0.95rem); line-height: 1.8; opacity: 0.9;">
                        Too expensive? Check out our Flex plan <a onclick="showStep('flexResultPage')" style="color: #31afed; text-decoration: underline; cursor: pointer;">HERE</a>.
                    </p>
                </div>
            </div>
            <div class="buttons">
                <button onclick="showStep('welcomePage')" class="secondary">Start Over</button>
            </div>
        </div>

        <!-- Performance Plus Result Page -->
        <div id="performancePlusResultPage" class="step">
            <h1>üéâ Your Perfect Plan!</h1>
            <div class="class-container">
                <h2 style="font-size: clamp(1.5rem, 4vw, 2rem); color: #ffd700; margin-bottom: 0.5rem; text-shadow: -4px -4px 0 #000, 4px -4px 0 #000, -4px 4px 0 #000, 4px 4px 0 #000, 0 -4px 0 #000, 0 4px 0 #000, -4px 0 0 #000, 4px 0 0 #000;">Performance Plus</h2>
                <p style="font-size: clamp(0.8rem, 2vw, 1rem); color: #ff9500; margin-bottom: 1rem; text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000; font-weight: bold;">Goal: Learn Korean in 9 months</p>
                <div style="background: rgba(255, 255, 255, 0.05); border-radius: 10px; padding: 1.5rem; margin: 1.5rem 0; text-align: left;">
                    <ul style="list-style: none; padding: 0; margin: 0 0 1.5rem 0;">
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #FFFFFF;">
                            <span style="position: absolute; left: 0; color: #31afed; font-weight: bold;">‚Ä¢</span>
                            Up to 5 optional, drop-in Support Classes per week (each class is 1 hour long)
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #FFFFFF;">
                            <span style="position: absolute; left: 0; color: #31afed; font-weight: bold;">‚Ä¢</span>
                            FREE online textbook included with purchase (100+ video lessons, flashcards, and PDFs)
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #90EE90;">
                            <span style="position: absolute; left: 0; color: #00FF00; font-weight: bold;">‚Ä¢</span>
                            On-demand recordings of all Support Classes (for if you miss class)
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #90EE90;">
                            <span style="position: absolute; left: 0; color: #00FF00; font-weight: bold;">‚Ä¢</span>
                            Pre-made notes (PDFs) for every Support Class
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #90EE90;">
                            <span style="position: absolute; left: 0; color: #00FF00; font-weight: bold;">‚Ä¢</span>
                            Private Accountability Concierge to keep you motivated
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #90EE90;">
                            <span style="position: absolute; left: 0; color: #00FF00; font-weight: bold;">‚Ä¢</span>
                            Access to our Study Pods (Group of 2-4 Study Buddies)
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #FFD700;">
                            <span style="position: absolute; left: 0; color: #FFA500; font-weight: bold;">‚Ä¢</span>
                            Join our exclusive Weekend Classes! Unlike the Support Classes on weekdays, each weekend class builds off the last class.
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #FFD700;">
                            <span style="position: absolute; left: 0; color: #FFA500; font-weight: bold;">‚Ä¢</span>
                            The Weekend classes are small, structured group classes sorted by level (Mr. Calvin will personally guide you through the entire curriculum) *Weekend classes last 1.5 hours
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #FFD700;">
                            <span style="position: absolute; left: 0; color: #FFA500; font-weight: bold;">‚Ä¢</span>
                            Achieve your Korean goals approximately 3x faster!
                        </li>
                    </ul>
                </div>
                <div class="price" style="margin: 2rem 0;">
                    PRICE: $275/MONTH
                    <span class="price-breakdown-link" onclick="showPriceBreakdown('performanceplus')">*Click to see the price breakdown</span>
                </div>
                
                <a href="https://koreanlearnin.com/products/performance-plus-plan-9-month-conversational-masterplan-2-week-free-trial?_pos=2&_psq=perfor&_ss=e&_v=1.0&selling_plan=9562882338&variant=50444250087714" target="_blank" style="text-decoration: none;">
                    <button class="primary" style="width: 100%; margin: 1rem 0;">CHECKOUT</button>
                </a>
                
                <div style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid rgba(255, 255, 255, 0.2);">
                    <p style="font-size: clamp(0.75rem, 2vw, 0.95rem); line-height: 1.8; margin-bottom: 1rem;">
                        Looking for a more serious program? Click <a onclick="showStep('allPlansPage')" style="color: #31afed; text-decoration: underline; cursor: pointer;">HERE</a> to view our other plans.
                    </p>
                    <p style="font-size: clamp(0.75rem, 2vw, 0.95rem); line-height: 1.8; opacity: 0.9;">
                        Too expensive? Check out our Performance plan <a onclick="showStep('performanceResultPage')" style="color: #31afed; text-decoration: underline; cursor: pointer;">HERE</a>.
                    </p>
                </div>
            </div>
            <div class="buttons">
                <button onclick="showStep('welcomePage')" class="secondary">Start Over</button>
            </div>
        </div>

        <!-- Premium Plan Result Page -->
        <div id="premiumResultPage" class="step">
            <h1>üéâ Your Perfect Plan!</h1>
            <div class="class-container">
                <h2 style="font-size: clamp(1.5rem, 4vw, 2rem); color: #ffd700; margin-bottom: 0.5rem; text-shadow: -4px -4px 0 #000, 4px -4px 0 #000, -4px 4px 0 #000, 4px 4px 0 #000, 0 -4px 0 #000, 0 4px 0 #000, -4px 0 0 #000, 4px 0 0 #000;">Premium Plan</h2>
                <p style="font-size: clamp(0.8rem, 2vw, 1rem); color: #2ecc71; margin-bottom: 1rem; text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000; font-weight: bold;">Goal: Customized to your needs</p>
                <div style="background: rgba(255, 255, 255, 0.05); border-radius: 10px; padding: 1.5rem; margin: 1.5rem 0; text-align: left;">
                    <ul style="list-style: none; padding: 0; margin: 0 0 1.5rem 0;">
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #FFFFFF;">
                            <span style="position: absolute; left: 0; color: #31afed; font-weight: bold;">‚Ä¢</span>
                            Up to 5 optional, drop-in Support Classes per week (each class is 1 hour long)
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #FFFFFF;">
                            <span style="position: absolute; left: 0; color: #31afed; font-weight: bold;">‚Ä¢</span>
                            FREE online textbook included with purchase (100+ video lessons, flashcards, and PDFs)
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #90EE90;">
                            <span style="position: absolute; left: 0; color: #00FF00; font-weight: bold;">‚Ä¢</span>
                            On-demand recordings of all Support Classes (for if you miss class)
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #90EE90;">
                            <span style="position: absolute; left: 0; color: #00FF00; font-weight: bold;">‚Ä¢</span>
                            Pre-made notes (PDFs) for every Support Class
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #90EE90;">
                            <span style="position: absolute; left: 0; color: #00FF00; font-weight: bold;">‚Ä¢</span>
                            Private Accountability Concierge to keep you motivated
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #90EE90;">
                            <span style="position: absolute; left: 0; color: #00FF00; font-weight: bold;">‚Ä¢</span>
                            Access to our Study Pods (Group of 2-4 Study Buddies)
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #FFD700;">
                            <span style="position: absolute; left: 0; color: #FFA500; font-weight: bold;">‚Ä¢</span>
                            Join our exclusive Weekend Classes! Unlike the Support Classes on weekdays, each weekend class builds off the last class.
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #FFD700;">
                            <span style="position: absolute; left: 0; color: #FFA500; font-weight: bold;">‚Ä¢</span>
                            The Weekend classes are small, structured group classes sorted by level (Mr. Calvin will personally guide you through the entire curriculum) *Weekend classes are 1.5 hours
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #FF69B4;">
                            <span style="position: absolute; left: 0; color: #FF1493; font-weight: bold;">‚Ä¢</span>
                            Plus, get 1 hour of 1:1 tutoring with Mr. Calvin every week (based on your availability)
                        </li>
                        <li style="font-size: clamp(0.7rem, 2vw, 0.9rem); line-height: 1.8; margin-bottom: 1rem; padding-left: 1.5rem; position: relative; color: #FF69B4;">
                            <span style="position: absolute; left: 0; color: #FF1493; font-weight: bold;">‚Ä¢</span>
                            Access to 24/7 Support: Priority Video response to any questions you may have
                        </li>
                    </ul>
                </div>
                <div class="price" style="margin: 2rem 0;">
                    PRICE: $549/MONTH
                    <span class="price-breakdown-link" onclick="showPriceBreakdown('premium')">*Click to see the price breakdown</span>
                </div>
                
                <a href="https://koreanlearnin.com/products/1-on-1-mentorship-with-mr-calvin-weekly-check-in?_pos=1&_psq=premi&_ss=e&_v=1.0&selling_plan=9562882338&variant=50422195552546" target="_blank" style="text-decoration: none;">
                    <button class="primary" style="width: 100%; margin: 1rem 0;">CHECKOUT</button>
                </a>
                
                <div style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid rgba(255, 255, 255, 0.2);">
                    <p style="font-size: clamp(0.75rem, 2vw, 0.95rem); line-height: 1.8; margin-bottom: 1rem;">
                        Want to see all of our programs? Click <a onclick="showStep('allPlansPage')" style="color: #31afed; text-decoration: underline; cursor: pointer;">HERE</a> to view our other plans.
                    </p>
                    <p style="font-size: clamp(0.75rem, 2vw, 0.95rem); line-height: 1.8; opacity: 0.9;">
                        Too expensive? Check out our Performance Plus plan <a onclick="showStep('performancePlusResultPage')" style="color: #31afed; text-decoration: underline; cursor: pointer;">HERE</a>.
                    </p>
                </div>
            </div>
            <div class="buttons">
                <button onclick="showStep('welcomePage')" class="secondary">Start Over</button>
            </div>
        </div>

        <!-- All Plans Page -->
        <div id="allPlansPage" class="step">
            <h1>üìö All of Our Classes</h1>
            <p class="description">Choose the perfect plan for your KoreanLearnin journey!</p>
            
            <div class="pricing-container">
                <div class="pricing-card">
                    <h3>Flex Plan</h3>
                    <p style="color: #ff6b6b; text-align: center; font-size: clamp(0.65rem, 1.8vw, 0.85rem); margin-bottom: 1rem; text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000; font-weight: bold;">Goal: Learn Korean at your own pace</p>
                    <ul>
                        <li>Up to 5 optional, drop-in Support Classes per week *Each class is 1 hour long</li>
                    </ul>
                    <div class="price" style="font-size: clamp(0.9rem, 2.2vw, 1.2rem);">
                        PRICE: $75/MONTH
                        <span class="price-breakdown-link" onclick="showPriceBreakdown('flex')">*Click to see the price breakdown</span>
                    </div>
                    <a href="https://koreanlearnin.com/products/1-year-conversational-masterplan-2-week-free-trial?_pos=1&_psq=flex&_ss=e&_v=1.0&selling_plan=9562882338&variant=50421776777506" target="_blank" style="text-decoration: none;">
                        <button class="primary" style="width: 100%; margin-top: 1rem;">CHECKOUT</button>
                    </a>
                </div>
                
                <div class="pricing-card">
                    <h3>Performance Plan</h3>
                    <p style="color: #3498db; text-align: center; font-size: clamp(0.65rem, 1.8vw, 0.85rem); margin-bottom: 0.5rem; text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000; font-weight: bold;">Goal: Learn Korean in 12 ~ 18 months</p>
                    <p style="color: #00FF00; text-align: center; font-size: clamp(0.7rem, 2vw, 0.9rem); margin-bottom: 1rem; text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000;">TOP PICK!</p>
                    <ul>
                        <li>Everything in the Flex plan</li>
                        <li> FREE online textbook included with purchase (100+ video lessons, flashcards, and PDFs)</li>
                        <li>On-demand recordings of all Support Classes (for if you miss class)</li>
                        <li>Pre-made notes (PDFs) for every Support Class</li>
                        <li>Private Accountability Concierge to keep you motivated</li>
                        <li>Access to our Study Pods (Group of 2-4 study buddies)</li>
                    </ul>
                    <div class="price" style="font-size: clamp(0.9rem, 2.2vw, 1.2rem);">
                        PRICE: $89/MONTH
                        <span class="price-breakdown-link" onclick="showPriceBreakdown('performance')">*Click to see the price breakdown</span>
                    </div>
                    <a href="https://koreanlearnin.com/products/performance-plan-1-year-conversational-masterplan-2-week-free-trial?_pos=1&_psq=perform&_ss=e&_v=1.0&selling_plan=9562882338&variant=50444245598498" target="_blank" style="text-decoration: none;">
                        <button class="primary" style="width: 100%; margin-top: 1rem;">CHECKOUT</button>
                    </a>
                </div>
                
                <div class="pricing-card">
                    <h3>Performance Plus</h3>
                    <p style="color: #ff9500; text-align: center; font-size: clamp(0.65rem, 1.8vw, 0.85rem); margin-bottom: 1rem; text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000; font-weight: bold;">Goal: Learn Korean in 9 months</p>
                    <ul>
                        <li>Everything in the Flex and Performance Plans</li>
                        <li>Plus, join our exclusive Weekend Classes! Unlike the Support Classes on weekdays, each weekend class builds off the last class.</li>
                        <li>Structured, small group classes sorted by level (Mr. Calvin will personally guide you through the entire curriculum)</li>
                        <li>Each weekend class is 1.5 hours long. Students learn 3x faster</li>
                    </ul>
                    <div class="price" style="font-size: clamp(0.9rem, 2.2vw, 1.2rem);">
                        PRICE: $275/MONTH
                        <span class="price-breakdown-link" onclick="showPriceBreakdown('performanceplus')">*Click to see the price breakdown</span>
                    </div>
                    <a href="https://koreanlearnin.com/products/performance-plus-plan-9-month-conversational-masterplan-2-week-free-trial?_pos=2&_psq=perfor&_ss=e&_v=1.0&selling_plan=9562882338&variant=50444250087714" target="_blank" style="text-decoration: none;">
                        <button class="primary" style="width: 100%; margin-top: 1rem;">CHECKOUT</button>
                    </a>
                </div>
                
                <div class="pricing-card">
                    <h3>Premium Plan</h3>
                    <p style="color: #2ecc71; text-align: center; font-size: clamp(0.65rem, 1.8vw, 0.85rem); margin-bottom: 1rem; text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000; font-weight: bold;">Goal: Customized to your needs</p>
                    <ul>
                        <li>Everything in the Flex, Performance, and Performance Plus Plans</li>
                        <li>Plus, get 1 hour of 1:1 tutoring with Mr. Calvin every week</li>
                        <li>24/7 Support - get priority video support for any question you may have</li>
                    </ul>
                    <div class="price" style="font-size: clamp(0.9rem, 2.2vw, 1.2rem);">
                        PRICE: $549/MONTH
                        <span class="price-breakdown-link" onclick="showPriceBreakdown('premium')">*Click to see the price breakdown</span>
                    </div>
                    <a href="https://koreanlearnin.com/products/1-on-1-mentorship-with-mr-calvin-weekly-check-in?_pos=1&_psq=premi&_ss=e&_v=1.0&selling_plan=9562882338&variant=50422195552546" target="_blank" style="text-decoration: none;">
                        <button class="primary" style="width: 100%; margin-top: 1rem;">CHECKOUT</button>
                    </a>
                </div>
            </div>
            
            <div class="buttons">
                <button onclick="showStep('welcomePage')" class="secondary">Restart Quiz</button>
            </div>
        </div>
    </div>

    <!-- Schedule Popup -->
    <div id="schedulePopup" class="popup-overlay" onclick="closePopup(event)">
        <div class="popup-content" onclick="event.stopPropagation()">
            <button class="popup-close" onclick="closeSchedulePopup()">√ó</button>
            <h2>üìÖ Weekly Class Schedule</h2>
            <p><strong>Monday:</strong> Sentence-Building Class</p>
            <p><strong>Tuesday:</strong> Reading & Pronunciation Class</p>
            <p><strong>Wednesday:</strong> Vocab Class (For ALL Levels)</p>
            <p><strong>Thursday:</strong> Compound Sentence Class (For ADVANCED learners only)</p>
            <p><strong>Friday:</strong> Listening Class</p>
            <p style="margin-top: 1.5rem; opacity: 0.9; color: #FFFFFF;">Classes are 1 hour long. All classes are at <span style="color: #31afed !important; text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000 !important; font-weight: bold !important;">8:00 PM New York Time</span></p>
            <p style="margin-top: 1.5rem; opacity: 0.9; color: #FFFFFF;">You will UNLOCK each class as you progress through the levels in your TEXTBOOK.</p>
        </div>
    </div>

    <!-- Price Breakdown Popups -->
    <div id="priceBreakdownPopup" class="popup-overlay" onclick="closePriceBreakdown(event)">
        <div class="popup-content" onclick="event.stopPropagation()">
            <button class="popup-close" onclick="closePriceBreakdown()">√ó</button>
            <div id="priceBreakdownContent"></div>
        </div>
    </div>

    <!-- Error Popup -->
    <div id="errorPopup" class="popup-overlay" onclick="closeErrorPopup(event)">
        <div class="popup-content" onclick="event.stopPropagation()" style="max-width: 400px;">
            <button class="popup-close" onclick="closeErrorPopup()">√ó</button>
            <h2 style="color: #ff6b6b;">‚ö†Ô∏è Oops!</h2>
            <p style="font-size: clamp(0.8rem, 2vw, 1rem); text-align: center;">Please select an answer before continuing!</p>
        </div>
    </div>

    <!-- Purchase Popup -->
    <div id="purchasePopup" class="popup-overlay" onclick="closePurchasePopup(event)">
        <div class="popup-content" onclick="event.stopPropagation()" style="max-width: 500px;">
            <button class="popup-close" onclick="closePurchasePopup()">√ó</button>
            <h2 style="color: #31afed;">üõí Purchase Coming Soon!</h2>
            <p style="font-size: clamp(0.8rem, 2vw, 1rem); text-align: center; line-height: 1.8;">
                Thank you for your interest in our Six Week Tutoring: Accent Eraser Program!
            </p>
            <p style="font-size: clamp(0.8rem, 2vw, 1rem); text-align: center; line-height: 1.8; margin-top: 1rem;">
                Purchase functionality will be available soon. Please contact us directly for more information.
            </p>
        </div>
    </div>

    <script>
        let currentQuestion = 1;
        let selectedAnswer = null;
        let totalPoints = 0;
        let question4AnswerB = false; // Track if user selected "No tutoring" option
        let answers = {}; // Store answers by question number to prevent double-scoring
        
        function showStep(stepId) {
            const allSteps = document.querySelectorAll('.step');
            const currentActive = document.querySelector('.step.active');
            
            if (currentActive) {
                currentActive.classList.add('fade-out');
            }
            
            setTimeout(() => {
                allSteps.forEach(step => {
                    step.classList.remove('active', 'fade-out');
                });
                const targetStep = document.getElementById(stepId);
                if (targetStep) {
                    targetStep.classList.add('active');
                    
                    if (stepId === 'welcomePage') {
                        setTimeout(() => {
                            const heroImage = targetStep.querySelector('.hero-image');
                            if (heroImage) {
                                heroImage.classList.add('slide-up');
                            }
                        }, 100);
                    }
                    
                    if (stepId === 'quizPage') {
                        currentQuestion = 1;
                        selectedAnswer = null;
                        totalPoints = 0;
                        question4AnswerB = false; // Reset question 4 tracking
                        answers = {}; // Reset answers
                        document.querySelectorAll('.quiz-question-container').forEach((q, i) => {
                            q.classList.remove('active', 'fading');
                            q.style.display = 'none';
                        });
                        const firstQuestion = document.getElementById('question1');
                        firstQuestion.style.display = 'block';
                        setTimeout(() => {
                            firstQuestion.classList.add('active');
                            updateBackButton(); // Update back button state
                        }, 10);
                        document.querySelectorAll('.quiz-option').forEach(opt => {
                            opt.classList.remove('selected');
                        });
                    }
                    
                    setTimeout(() => {
                        window.scrollTo(0, 0);
                        document.documentElement.scrollTop = 0;
                        document.body.scrollTop = 0;
                    }, 0);
                }
            }, currentActive ? 300 : 0);
        }
        
        // Add click handlers to all quiz options
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.addEventListener('click', function() {
                    const questionContainer = this.closest('.quiz-question-container');
                    questionContainer.querySelectorAll('.quiz-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    selectedAnswer = parseFloat(this.getAttribute('data-points'));
                    
                    // Check if this is question 4, option B (no tutoring)
                    if (questionContainer.id === 'question4') {
                        if (this.textContent.includes('No, I want to jump right into the drop-in classes')) {
                            question4AnswerB = true;
                        } else {
                            question4AnswerB = false;
                        }
                    }
                });
            });
        });
        
        function showErrorPopup() {
            const popup = document.getElementById('errorPopup');
            popup.style.display = 'flex';
            setTimeout(() => {
                popup.classList.add('active');
            }, 10);
        }

        function closeErrorPopup(event) {
            if (!event || event.target.classList.contains('popup-overlay') || event.target.classList.contains('popup-close')) {
                const popup = document.getElementById('errorPopup');
                popup.classList.remove('active');
                setTimeout(() => {
                    popup.style.display = 'none';
                }, 300);
            }
        }

        function nextQuestion() {
            if (selectedAnswer === null) {
                showErrorPopup();
                return;
            }
            
            // If we already answered this question before, subtract the old answer to prevent double-scoring
            if (answers[currentQuestion] !== undefined) {
                totalPoints -= answers[currentQuestion];
                console.log('Removed previous answer for question ' + currentQuestion + ':', answers[currentQuestion]);
            }
            
            // Store the new answer
            answers[currentQuestion] = selectedAnswer;
            totalPoints += selectedAnswer;
            console.log('Question ' + currentQuestion + ' - Points awarded:', selectedAnswer);
            console.log('Total points so far:', totalPoints);
            
            const currentQ = document.getElementById('question' + currentQuestion);
            
            // Fade out current question
            currentQ.classList.remove('active');
            
            setTimeout(() => {
                // Hide ALL questions first to prevent multiple showing
                document.querySelectorAll('.quiz-question-container').forEach(q => {
                    q.classList.remove('active', 'fading');
                    q.style.display = 'none';
                });
                
                currentQuestion++;
                
                const nextQ = document.getElementById('question' + currentQuestion);
                if (nextQ) {
                    // Show next question
                    nextQ.classList.add('fading');
                    nextQ.style.display = 'block';
                    
                    // Restore previously selected answer if going back and forth
                    selectedAnswer = answers[currentQuestion] || null;
                    
                    // Highlight the previously selected option if it exists
                    const options = nextQ.querySelectorAll('.quiz-option');
                    options.forEach(opt => {
                        opt.classList.remove('selected');
                        if (selectedAnswer !== null && parseFloat(opt.getAttribute('data-points')) === selectedAnswer) {
                            opt.classList.add('selected');
                            
                            // Re-check question 4 answer B when restoring
                            if (nextQ.id === 'question4' && opt.textContent.includes('No, I want to jump right into the drop-in classes')) {
                                question4AnswerB = true;
                            }
                        }
                    });
                    
                    // Update back button state
                    updateBackButton();
                    
                    // Trigger fade in
                    setTimeout(() => {
                        nextQ.classList.add('active');
                        nextQ.classList.remove('fading');
                    }, 10);
                    
                    setTimeout(() => {
                        window.scrollTo(0, 0);
                        document.documentElement.scrollTop = 0;
                        document.body.scrollTop = 0;
                    }, 0);
                } else {
                    showResults();
                }
            }, 500); // Wait for fade out to complete
        }
        
        function previousQuestion() {
            if (currentQuestion <= 1) return; // Can't go back from first question
            
            const currentQ = document.getElementById('question' + currentQuestion);
            
            // Fade out current question
            currentQ.classList.remove('active');
            
            setTimeout(() => {
                // Hide ALL questions first
                document.querySelectorAll('.quiz-question-container').forEach(q => {
                    q.classList.remove('active', 'fading');
                    q.style.display = 'none';
                });
                
                currentQuestion--;
                
                const prevQ = document.getElementById('question' + currentQuestion);
                prevQ.classList.add('fading');
                prevQ.style.display = 'block';
                
                // Restore the previously selected answer
                selectedAnswer = answers[currentQuestion] || null;
                
                // Highlight the previously selected option
                const options = prevQ.querySelectorAll('.quiz-option');
                options.forEach(opt => {
                    opt.classList.remove('selected');
                    if (selectedAnswer !== null && parseFloat(opt.getAttribute('data-points')) === selectedAnswer) {
                        opt.classList.add('selected');
                        
                        // Re-check question 4 answer B when restoring
                        if (prevQ.id === 'question4' && opt.textContent.includes('No, I want to jump right into the drop-in classes')) {
                            question4AnswerB = true;
                        }
                    }
                });
                
                // Update back button state
                updateBackButton();
                
                setTimeout(() => {
                    prevQ.classList.add('active');
                    prevQ.classList.remove('fading');
                }, 10);
                
                setTimeout(() => {
                    window.scrollTo(0, 0);
                    document.documentElement.scrollTop = 0;
                    document.body.scrollTop = 0;
                }, 0);
            }, 500);
        }
        
        function updateBackButton() {
            const backButton = document.getElementById('backButton');
            if (currentQuestion <= 1) {
                backButton.style.opacity = '0.5';
                backButton.style.cursor = 'not-allowed';
            } else {
                backButton.style.opacity = '1';
                backButton.style.cursor = 'pointer';
            }
        }
        
        function showResults() {
            console.log('Final total points:', totalPoints);
            console.log('Question 4 Answer B selected:', question4AnswerB);
            
            let resultPageId = '';
            
            // If user selected "No tutoring" on question 4, always give Flex plan
            if (question4AnswerB) {
                resultPageId = 'flexResultPage';
                console.log('Overriding to Flex due to Question 4 Answer B');
            } else if (totalPoints >= 9.0 && totalPoints <= 14.5) {
                resultPageId = 'flexResultPage';
            } else if (totalPoints >= 14.51 && totalPoints <= 20.0) {
                resultPageId = 'performanceResultPage';
            } else if (totalPoints >= 20.01 && totalPoints <= 27.0) {
                resultPageId = 'performancePlusResultPage';
            } else if (totalPoints >= 27.01) {
                resultPageId = 'premiumResultPage';
            } else {
                resultPageId = 'flexResultPage';
            }
            
            console.log('Navigating to:', resultPageId);
            
            showStep(resultPageId);
        }
        
        function showSchedulePopup() {
            const popup = document.getElementById('schedulePopup');
            popup.style.display = 'flex';
            setTimeout(() => {
                popup.classList.add('active');
            }, 10);
        }
        
        function closeSchedulePopup() {
            const popup = document.getElementById('schedulePopup');
            popup.classList.remove('active');
            setTimeout(() => {
                popup.style.display = 'none';
            }, 300);
        }
        
        function closePopup(event) {
            if (event.target.classList.contains('popup-overlay')) {
                closeSchedulePopup();
            }
        }

        function showPriceBreakdown(plan) {
            const popup = document.getElementById('priceBreakdownPopup');
            const content = document.getElementById('priceBreakdownContent');
            
            let breakdownHTML = '';
            
            if (plan === 'flex') {
                breakdownHTML = `
                    <h2>Flex: Price Breakdown</h2>
                    <p><strong>Total:</strong> $75/month</p>
                    <p style="margin-top: 1rem; color: #31afed;">This includes:</p>
                    <p>‚Ä¢ 5 optional Support Classes per week (1 hour each) = $3.75 per live hour of class</p>
                    <p>‚Ä¢ Unlock your classes by leveling up with our Textbook</p>
                `;
            } else if (plan === 'performance') {
                breakdownHTML = `
                    <h2 style="line-height: 1.4;">Performance: Price Breakdown</h2>
                    <p><strong>Total:</strong> $89/month</p>
                    <p style="margin-top: 1rem; color: #31afed;">This includes:</p>
                    <p>‚Ä¢ 5 optional Support Classes per week (1 hour each) = $3.75 per live hour of class</p>
                    <p>‚Ä¢ All other benefits from Flex plan</p>
                    <p style="color: #FFD700;">Receive the benefits below for only $14/month more than the Flex plan:</p>
                    <p style="margin-left: 1.5rem;">‚Ä¢ Online Textbook (100+ video lessons, flashcards, PDFs) included for FREE</p>
                    <p style="margin-left: 1.5rem;">‚Ä¢ On-demand recordings of all Support Classes</p>
                    <p style="margin-left: 1.5rem;">‚Ä¢ Pre-made notes (PDFs) for every Support Class</p>
                    <p style="margin-left: 1.5rem;">‚Ä¢ Private Accountability Concierge</p>
                    <p style="margin-left: 1.5rem;">‚Ä¢ Access to Study Pods (2-4 study buddies)</p>
                `;
            } else if (plan === 'performanceplus') {
                breakdownHTML = `
                    <h2 style="line-height: 1.4;">Performance Plus: Price Breakdown</h2>
                    <p><strong>Total:</strong> $275/month</p>
                    <p style="margin-top: 1rem; color: #31afed;">This includes:</p>
                    <p>‚Ä¢ 5 optional Support Classes per week (1 hour each) PLUS Exclusive Weekend Classes (1.5 hours) = $10.60 per live hour of class</p>
                    <p>‚Ä¢ All other benefits from Flex & Performance plans</p>
                    <p>‚Ä¢ Personal guidance from Mr. Calvin</p>
                    <p>‚Ä¢ On average, 3x faster learning progress</p>
                `;
            } else if (plan === 'premium') {
                breakdownHTML = `
                    <h2>Premium: Price Breakdown</h2>
                    <p><strong>Total:</strong> $549/month</p>
                    <p style="margin-top: 1rem; color: #31afed;">This includes:</p>
                    <p>‚Ä¢ 5 optional Support Classes per week (1 hour each) PLUS Exclusive Weekend Classes (1.5 hours) = $10.60 per live hour of class</p>
                    <p>‚Ä¢ All other benefits from Flex, Performance, & Performance Plus plans</p>
                    <p>‚Ä¢ 1 hour of 1:1 tutoring with Mr. Calvin every week = $68.50 per weekly tutoring session</p>
                    <p>‚Ä¢ 24/7 Priority video support</p>
                    <p>‚Ä¢ Personalized learning plans, guaranteed to hit your goals</p>
                `;
            }
            
            content.innerHTML = breakdownHTML;
            popup.style.display = 'flex';
            setTimeout(() => {
                popup.classList.add('active');
            }, 10);
        }

        function closePriceBreakdown(event) {
            if (!event || event.target.classList.contains('popup-overlay')) {
                const popup = document.getElementById('priceBreakdownPopup');
                popup.classList.remove('active');
                setTimeout(() => {
                    popup.style.display = 'none';
                }, 300);
            }
        }
        
        function showTutoringPricing() {
            // Save current state before navigating
            showStep('tutoringPricingPage');
        }
        
        function returnToQuiz() {
            // Return to quiz question 4 with all progress preserved
            const allSteps = document.querySelectorAll('.step');
            const currentActive = document.querySelector('.step.active');
            
            if (currentActive) {
                currentActive.classList.add('fade-out');
            }
            
            setTimeout(() => {
                allSteps.forEach(step => {
                    step.classList.remove('active', 'fade-out');
                });
                
                const quizPage = document.getElementById('quizPage');
                quizPage.classList.add('active');
                
                // Set current question to 4
                currentQuestion = 4;
                
                // Hide all questions
                document.querySelectorAll('.quiz-question-container').forEach(q => {
                    q.classList.remove('active', 'fading');
                    q.style.display = 'none';
                });
                
                // Show question 4
                const question4 = document.getElementById('question4');
                question4.style.display = 'block';
                setTimeout(() => {
                    question4.classList.add('active');
                }, 10);
                
                // Restore selected answer if it exists
                selectedAnswer = answers[4] || null;
                if (answers[4] !== undefined) {
                    const options = question4.querySelectorAll('.quiz-option');
                    options.forEach(opt => {
                        opt.classList.remove('selected');
                        if (parseFloat(opt.getAttribute('data-points')) === selectedAnswer) {
                            opt.classList.add('selected');
                        }
                    });
                }
                
                updateBackButton();
                
                setTimeout(() => {
                    window.scrollTo(0, 0);
                    document.documentElement.scrollTop = 0;
                    document.body.scrollTop = 0;
                }, 0);
            }, currentActive ? 300 : 0);
        }
        
        function showPurchasePopup() {
            const popup = document.getElementById('purchasePopup');
            popup.style.display = 'flex';
            setTimeout(() => {
                popup.classList.add('active');
            }, 10);
        }
        
        function closePurchasePopup(event) {
            if (!event || event.target.classList.contains('popup-overlay') || event.target.classList.contains('popup-close')) {
                const popup = document.getElementById('purchasePopup');
                popup.classList.remove('active');
                setTimeout(() => {
                    popup.style.display = 'none';
                }, 300);
            }
        }
        
        window.addEventListener('load', function() {
            setTimeout(() => {
                const heroImage = document.querySelector('#welcomePage .hero-image');
                if (heroImage) {
                    heroImage.classList.add('slide-up');
                }
            }, 800);
        });
        
        (function () {
            try { if ('scrollRestoration' in history) history.scrollRestoration = 'manual'; } catch(e){}

            document.addEventListener('DOMContentLoaded', function () {
                if (!document.getElementById('top-sentinel')) {
                    var s = document.createElement('div');
                    s.id = 'top-sentinel';
                    s.style.cssText = 'height:1px;margin:0;padding:0;';
                    document.body.insertBefore(s, document.body.firstChild);
                }
            });

            function toTop() {
                window.scrollTo(0, 0);
                document.documentElement.scrollTop = 0;
                document.body.scrollTop = 0;
            }

            document.addEventListener('DOMContentLoaded', function () {
                requestAnimationFrame(toTop);
                setTimeout(toTop, 200);
            });
            window.addEventListener('load', function () { setTimeout(toTop, 0); }, { once: true });
            window.addEventListener('pageshow', function (e) { if (e.persisted) toTop(); });
        })();
    </script>
</body>
</html>
